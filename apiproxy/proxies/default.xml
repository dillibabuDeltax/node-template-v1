<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ProxyEndpoint name="default">
    <FaultRules>
    </FaultRules>
    <PreFlow>
       
    </PreFlow>
    <Flows>
    	
	    	<Flow name="Gets api status">
	    		<Description>Returns the api status.</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/api") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	    	<Flow name="Gets slow status">
	    		<Description>Returns the api slow status.</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/slow") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	    	<Flow name="Gets error status">
	    		<Description>Returns the api error status.</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/error") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	    	<Flow name="Gets bad status">
	    		<Description>Returns the api bad status.</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/bad") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	   
    </Flows>
    <PostFlow>
    </PostFlow>
    <RouteRule name="NoRoute">
        <Condition>request.verb == "OPTIONS"</Condition>
    </RouteRule>
    <!-- This node will be dynamically generated by the proxy-gen tool. It covers BasePath and VirtualHost entries -->
    <RouteRule name="node-template">
    	<TargetEndpoint>node-template</TargetEndpoint>
        <Condition>(request.header.x-mock != "y") AND (request.header.x-mock != "Y")</Condition>
    </RouteRule>
    <HTTPProxyConnection>        
    	<BasePath>/node-template</BasePath>
		<VirtualHost>secure</VirtualHost>
		<VirtualHost>default</VirtualHost>
    </HTTPProxyConnection>
</ProxyEndpoint>